<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>English ⇆ Wingdings Converter</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Press Start 2P', cursive;
        text-align: center;
        overflow: hidden;
        color: #fff;
        margin: 0;
    }
    body::before {
        content: "";
        position: fixed;
        background-image: url('https://i.imgur.com/gSEBUIX.png');
        background-size: cover;
        background-position: center;
        height: 100%;
        width: 100%;
        left: 0;
        top: 0;
        z-index: -1;
    }
    h1 { 
        font-size: 18px; 
        margin-top: 10px; 
        margin-bottom: 20px; /* مسافة بين العنوان وباقي العناصر */
    }
    #bySection {
        margin-bottom: 20px;
        font-size: 14px;
    }
    #bySection span {
        cursor: pointer;
        color: yellow;
        text-decoration: underline;
    }
    textarea {
        width: 80%;
        height: 60px;
        font-size: 14px;
        padding: 10px;
        margin: 10px 0;
        border-radius: 5px;
        border: 2px solid white;
        background: rgba(0,0,0,0.6);
        color: white;
        resize: none;
    }
    button {
        font-family: 'Press Start 2P', cursive;
        padding: 8px;
        margin: 5px;
        background: rgba(0,0,0,0.6);
        border: 2px solid white;
        color: white;
        cursor: pointer;
    }
    button:hover {
        background: white;
        color: black;
    }
    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
    }
</style>
</head>
<body>

<h1>English ⇆ Wingdings Converter</h1>

<div id="bySection">
    BY: <span id="randomWingdings" onclick="goToTikTok()">----</span>
</div>

<textarea id="inputText" placeholder="Type here..."></textarea>
<br>
<button onclick="copyResult()">Copy</button>
<br>
<textarea id="outputText" readonly placeholder="Result..."></textarea>

<canvas id="rain"></canvas>

<script>
// رابط التيك توك
function goToTikTok() {
    window.open("https://www.tiktok.com/@2lsalamony?is_from_webapp=1&sender_device=pc", "_blank");
}

// مولد رموز وينجدنجز عشوائية
const wingCharsRandom = Object.values({
    "A":"✌︎","B":"👌︎","C":"👍︎","D":"👎︎","E":"☜︎","F":"☞︎","G":"☝︎","H":"☟︎","I":"✋︎","J":"☺︎","K":"😐︎","L":"☹︎","M":"💣︎","N":"☠︎","O":"⚐︎","P":"🏱︎","Q":"✈︎","R":"☼︎","S":"💧︎","T":"❄︎","U":"🕆︎","V":"✞︎","W":"🕈︎","X":"✠︎","Y":"✡︎","Z":"☪︎"
});

function updateRandomWingdings() {
    let str = "";
    for (let i = 0; i < 4; i++) {
        str += wingCharsRandom[Math.floor(Math.random() * wingCharsRandom.length)];
    }
    document.getElementById("randomWingdings").textContent = str;
}
setInterval(updateRandomWingdings, 250);
updateRandomWingdings();

// مابات التحويل
const charMap = {
    "0":"📁︎","1":"📂︎","2":"📄︎","3":"🗏︎","4":"🗐︎","5":"🗄︎","6":"⌛︎","7":"🖮︎","8":"🖰︎","9":"🖲︎","!":"✏︎","\"":"✂︎","#":"✁︎","$":"👓︎","%":"🕭︎","&":"🕮︎","'":"🕯︎","(":"🕿︎",")":"✆︎","*":"🖂︎","+":"🖃︎",",":"📪︎","-":"📫︎",".":"📬︎","/":"📭︎",":":"🖳︎",";":"🖴︎","<":"🖫︎","=":"🖬︎",">":"✇︎","?":"✍︎","A":"✌︎","B":"👌︎","C":"👍︎","D":"👎︎","E":"☜︎","F":"☞︎","G":"☝︎","H":"☟︎","I":"✋︎","J":"☺︎","K":"😐︎","L":"☹︎","M":"💣︎","N":"☠︎","O":"⚐︎","P":"🏱︎","Q":"✈︎","R":"☼︎","S":"💧︎","T":"❄︎","U":"🕆︎","V":"✞︎","W":"🕈︎","X":"✠︎","Y":"✡︎","Z":"☪︎","[":"☯︎","\\":"ॐ︎","]":"☸︎","^":"♈︎","_":"♉︎","`":"♊︎","a":"♋︎","b":"♌︎","c":"♍︎","d":"♎︎","e":"♏︎","f":"♐︎","g":"♑︎","h":"♒︎","i":"♓︎","j":"🙰","k":"🙵","l":"●︎","m":"❍︎","n":"■︎","o":"□︎","p":"◻︎","q":"❑︎","r":"❒︎","s":"⬧︎","t":"⧫︎","u":"◆︎","v":"❖︎","w":"⬥︎","x":"⌧︎","y":"⍓︎","z":"⌘︎","{":"❀︎","|":"✿︎","}":"❝︎","~":"❞︎"
};
const newCharMap = {
    "✏":"!","✂":"\"","✁":"#","👓":"$","🕭":"%","🕮":"&","🕯":"'","🕿":"(","✆":")","🖂":"*","🖃":"+","📪":",","📫":"-","📬":".","📭":"/","📁":"0","📂":"1","📄":"2","🗏":"3","🗐":"4","🗄":"5","⌛":"6","🖮":"7","🖰":"8","🖲":"9","🖳":":","🖴":";","🖫":"<","🖬":"=","✇":">","✍":"?","✌":"A","👌":"B","👍":"C","👎":"D","☜":"E","☞":"F","☝":"G","☟":"H","✋":"I","☺":"J","😐":"K","☹":"L","💣":"M","☠":"N","⚐":"O","🏱":"P","✈":"Q","☼":"R","💧":"S","❄":"T","🕆":"U","✞":"V","🕈":"W","✠":"X","✡":"Y","☪":"Z","☯":"[","ॐ":"\\","☸":"]","♈":"^","♉":"_","♊":"`","♋":"a","♌":"b","♍":"c","♎":"d","♏":"e","♐":"f","♑":"g","♒":"h","♓":"i","🙰":"j","🙵":"k","●":"l","❍":"m","■":"n","□":"o","◻":"p","❑":"q","❒":"r","⬧":"s","⧫":"t","◆":"u","❖":"v","⬥":"w","⌧":"x","⍓":"y","⌘":"z","❀":"{","✿":"|","❝":"}","❞":"~"
};

// تقسيم الرموز مع الحفاظ على المسافات والـ variation selectors
function splitSymbolsWithSpaces(str) {
    let result = [];
    for (let i = 0; i < str.length; i++) {
        let ch = str[i];
        if (i + 1 < str.length && (str.charCodeAt(i + 1) === 0xFE0E || str.charCodeAt(i + 1) === 0xFE0F)) {
            ch += str[i + 1];
            i++;
        }
        result.push(ch);
    }
    return result;
}

// تحويل تلقائي
function autoDetectAndConvert() {
    let input = document.getElementById("inputText").value;
    let englishCount = (input.match(/[A-Za-z0-9]/g) || []).length;
    let symbolCount = input.length - englishCount;
    let output = "";

    if (englishCount >= symbolCount) {
        splitSymbolsWithSpaces(input).forEach(ch => {
            output += ch === " " ? " " : (charMap[ch] || ch);
        });
    } else {
        splitSymbolsWithSpaces(input).forEach(ch => {
            if (ch === " ") {
                output += " ";
            } else {
                let clean = ch.replace(/\uFE0E|\uFE0F/g, "");
                output += newCharMap[clean] || clean;
            }
        });
    }
    document.getElementById("outputText").value = output;
}

document.getElementById("inputText").addEventListener("input", autoDetectAndConvert);

// نسخ النتيجة
function copyResult() {
    const outputText = document.getElementById("outputText").value;
    navigator.clipboard.writeText(outputText).then(() => {
        alert("✅ Copied!");
    }).catch(err => {
        alert("❌ Failed to copy: " + err);
    });
}

// تأثير المطر
const canvas = document.getElementById("rain");
const ctx = canvas.getContext("2d");
canvas.height = window.innerHeight;
canvas.width = window.innerWidth;
const wingChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";
const fontSize = 20;
const columns = Math.floor(canvas.width / fontSize);
const drops = [];
for (let x = 0; x < columns; x++) drops[x] = 1;

function draw() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#fff";
    ctx.font = fontSize + "px Wingdings";
    for (let i = 0; i < drops.length; i++) {
        const text = wingChars.charAt(Math.floor(Math.random() * wingChars.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
    }
}
setInterval(draw, 33);
</script>

</body>
</html>
